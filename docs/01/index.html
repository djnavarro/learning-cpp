<!doctype html>
<html>
   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <meta name="generator" content="pandoc">
      
      
      <title>1: A crash course in C++ and the standard library</title>
      <!-- Bootstrap -->
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
      <!-- Font-awesome -->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
      <!-- Styles -->
      <link rel="stylesheet" href="https://ashki23.github.io/styles.css">
         </head>
   <body>
            <div class="container">
         <h1 class="title">1: A crash course in C++ and the standard library</h1>
         <p><a href="../index.html">Back to top</a></p>
<h2 id="the-hello-world-program">The hello world program</h2>
<p>As always, we start with a “hello world” program. Here’s the source:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="co">// helloworld.cpp</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a><span class="dt">int</span> main() {</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true"></a>    <span class="bu">std::</span>cout &lt;&lt; <span class="st">&quot;Hello cruel world&quot;</span> &lt;&lt; <span class="bu">std::</span>endl;</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true"></a>    <span class="cf">return</span> <span class="dv">0</span>; </span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true"></a>}</span></code></pre></div>
<p>That’s all well and good, but I can’t do anything useful with this until I compile it, and for that to happen I need a C++ compiler. As it happens I already have g++ on my system, but – for no particular reason – I’ve decided to use clang. Installing clang on Ubuntu is pretty straightforward:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a><span class="fu">sudo</span> apt install clang</span></code></pre></div>
<p>Now that I have a compiler, I need to actually compile it. Here’s the command:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a><span class="fu">clang</span>++ -std=c++20 helloworld.cpp -o helloworld</span></code></pre></div>
<p>The <code>-std=c++20</code> flag tells clang what version of C++ I’m using, and the <code>-o</code> flag is used to specify the output file. Since I don’t want to commit any binaries to my git repo, I’ll add <code>helloworld</code> to the <code>.gitignore</code> file. Fantastic.</p>
<p>From this point, I can invoke the executable at the terminal quite simply:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a><span class="ex">./helloworld</span></span></code></pre></div>
<p>And out pops the “Hello cruel message” at the console. Excellent. The basics are working.</p>
<h2 id="notes-on-the-hello-world-program">Notes on the hello world program</h2>
<p>Thankfully, I’ve written enough C++ code in the past that nothing about this surprises me. A few very basic syntactic notes in case I ever happen to share this with someone else coming from R.</p>
<ul>
<li>Comments in C++ are specified using <code>//</code></li>
<li>Lines must end with the semicolon <code>;</code></li>
<li>The <code>main()</code> function is special: that’s the entry point to your program. This is the function that gets called whenever you invoke the executable at the command line.</li>
<li>Unlike R, C++ is strongly typed, so when you define a function you must specify the output type: so in this case I write <code>int main() { // blah }</code> to specify that the output is an integer</li>
<li>C++ uses namespaces. In R you often see namespaces as package names (e.g., <code>dplyr::filter</code>), and <code>::</code> functions similarly here. When I write <code>std::cout</code>, I’m roughly saying “cout, which lives in the std namespace”.</li>
<li>The <code>#include</code> line is a “preprocessor directive”, used to specify meta-information about the program. In this case, it’s telling the preprocessor to take everything in the <code>&lt;iostream&gt;</code> header file and make it available to the program. Without it, I can’t do any input/output</li>
<li>In theory, since this is C++20, I could have written <code>import &lt;iostream&gt;;</code> instead of using the <code>#include</code> preprocessor directive. This is because C++20 supports for modules. I’m being a bit old-fashioned here.</li>
</ul>
<p>Going a little deeper:</p>
<ul>
<li><code>std::cout</code> refers to “standard out”, basically the place where we write output to the console. The metaphor used in the book is to think of it as a “chute” where you toss text.</li>
<li>The <code>&lt;&lt;</code> operator is used to “toss data into the chute”, so <code>std::cout &lt;&lt; "hello"</code> passes the text string <code>"hello"</code> to the standard output. As the helloworld program illustrates, you can concatenate multiple <code>&lt;&lt;</code> operations</li>
<li><code>std::endl</code> represents the end-of-line.</li>
</ul>
<p>If you don’t particularly want to namespace every command, as per <code>std::cout</code>, you can tell the compiler to make the names in a particular namespace available with a <code>using</code> directive (not dissimilar to calling <code>library()</code> in R). So I could have written my helloworld program like this:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a><span class="co">// helloworld-using.cpp</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true"></a><span class="kw">using</span> <span class="kw">namespace</span> std;</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true"></a><span class="dt">int</span> main() {</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true"></a>    cout &lt;&lt; <span class="st">&quot;Hello cruel world&quot;</span> &lt;&lt; endl;</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true"></a>    <span class="cf">return</span> <span class="dv">0</span>; </span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true"></a>}</span></code></pre></div>
<p>In general though it’s not a good idea because that leads to namespace conflicts pretty quickly.</p>      </div>
            <!-- JS, Popper.js, and jQuery -->
      <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
      <!-- Mathjax -->
      <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      <script>
         /* Bootstrap styles to tables */
         function bootstrapStylePandocTables() {
         $('tr.header').parent('thead').parent('table').addClass('table table-condensed'); }
         $(document).ready(function () { bootstrapStylePandocTables(); });
         /* Adjust the height when click the toc */
         var shiftWindow = function() { scrollBy(0, -60) };
         window.addEventListener("hashchange", shiftWindow);
         function load() { if (window.location.hash) shiftWindow(); }
      </script>
   </body>
</html>
